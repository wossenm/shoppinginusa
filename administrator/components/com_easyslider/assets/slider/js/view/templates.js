void function(exports,$){exports.JSNES_TemplatesView=Backbone.CollectionView.extend({initialize:function(){this.collection.fetch();this.listenTo(this.collection,"sync",this.update);this.$el.masonry({})},update:function(){this.defer(function(){!Masonry.data(this.el)||this.$el.masonry("destroy").masonry({columnWidth:50,fitWidth:true,itemSelector:".jsn-es-item-template"})})},itemView:Backbone.ItemView.extend({className:"jsn-es-item jsn-es-item-template",template:"#template-item-template",tagName:"div",initialize:function(){this.render();this.updateCSS();this.defer(function(){this.superView.superView.fontsManager.loadFont(this.model.get("style").fontFamily)});setInterval(_.bind(this.updateCSS,this),1e3)},events:{click:function(){var type=this.model.get("type");if(type=="video"&&this.model.get("video").type=="youtube")type+=":"+this.model.get("video").type;log(this.model.toJSON());var model=this.model.toJSON();delete model.id;$(".jsn-es-slide:not(.hidden)").trigger("add:item:"+type,model)}},renderItem:function(){if(this.model.get("type")=="text"){this.$el.addClass("text-item");this.$(".item-container .text-editor").html(this.model.get("content"))}else if(this.model.get("type")=="image"){if(typeof this.model.get("image")==="undefined"){this.model.set("image",{});this.model.set("image.url",this.defauftImage)}else this.$(".template-container").html('<img src="'+this.model.get("image.url")+'">')}else if(this.model.get("type")=="video"){if(this.model.get("video").type=="youtube"){this.renderVideoYoutube()}}},renderVideoYoutube:function(){var videoObj=this.model.get("video");if(typeof videoObj.thumb==="undefined"||typeof videoObj.title==="undefined"){}else{this.$(".template-container").html('<div class="thumb"><img src="'+videoObj.thumb+'"><div class="jsn-play-icon"><i class="fa fa-play"></i></div></div>')}},updateCSS:function(e){this.renderItem();var style=this.model.get("style");var height=50;var scale=height/style.height;var width=style.width/scale;this.$(".item-container").css(_.omit(style,["top","left"]));return this}})})}(this,JSNESjQuery);